<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Overview of Kubernetes</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Container Orchestration with Kubernetes</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Install Kubernetes.html">01. Install Kubernetes</a>
    </li>
    <li class="">
      <a href="02. Overview of Kubernetes.html">02. Overview of Kubernetes</a>
    </li>
    <li class="">
      <a href="03. Monitoring, Logging and Debugging with Kubernetes.html">03. Monitoring, Logging and Debugging with Kubernetes</a>
    </li>
    <li class="">
      <a href="04. Exercise Prometheus Monitoring.html">04. Exercise: Prometheus Monitoring</a>
    </li>
    <li class="">
      <a href="05. Exercise Logging.html">05. Exercise: Logging</a>
    </li>
    <li class="">
      <a href="06. Exercise Debugging.html">06. Exercise: Debugging</a>
    </li>
    <li class="">
      <a href="07. Auto Scaling with CPU or Memory.html">07. Auto Scaling with CPU or Memory</a>
    </li>
    <li class="">
      <a href="08. Summary.html">08. Summary</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">02. Overview of Kubernetes</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3><p>Untitled</p></h3>
  <div>
  <h2 id="overview-of-kubernetes">Overview of Kubernetes</h2>
<p>What is <a href="https://github.com/kubernetes/kubernetes" rel="noopener noreferrer" target="_blank">Kubernetes</a>?  It is an open source orchestration system for containers developed by Google and open sourced in 2014.  Kubernetes is a useful tool for working with containerized applications. Given our previous work with Docker containers and containerizing an app, working with Kubernetes is the next logical step. Kubernetes was born out of the lessons learned in <a href="https://queue.acm.org/detail.cfm?id=2898444" rel="noopener noreferrer" target="_blank">scaling containerized apps at Google</a>, and is used for automating deployment, scaling and managing such containerized applications.</p>
<h3 id="what-are-the-benefits-of-using-kubernetes">What are the Benefits of using Kubernetes?</h3>
<p>Kubernetes is the standard for container orchestration.  All major cloud providers support Kubernetes. Amazon through <a href="https://aws.amazon.com/eks/" rel="noopener noreferrer" target="_blank">Amazon EKS</a>, Google through <a href="https://cloud.google.com/kubernetes-engine" rel="noopener noreferrer" target="_blank">Google Kubernetes Engine GKE</a> and Microsoft through <a href="https://azure.microsoft.com/en-us/services/kubernetes-service/" rel="noopener noreferrer" target="_blank">Azure Kubernetes Service (AKS)</a>.</p>
<p>Kubernetes is also a framework for running distributed systems at <a href="https://kubernetes.io/" rel="noopener noreferrer" target="_blank">"planet scale"</a>.  Google uses it to run billions of containers a week. </p>
<p>A few of the Capabilities of Kubernetes include: </p>
<ul>
<li>High availability architecture</li>
<li>Auto-scaling</li>
<li>Rich Ecosystem</li>
<li>Service discovery</li>
<li>Container health management</li>
<li>Secrets and configuration management</li>
</ul>
<p>The downside of these features is the high complexity and learning curve of Kubernetes.  You can read more about the features of Kubernetes through the <a href="https://kubernetes.io/docs/home/" rel="noopener noreferrer" target="_blank">official documentation</a>.</p>
<h3 id="what-are-the-basics-of-kubernetes">What are the Basics of Kubernetes?</h3>
<p>The core operations involved in Kubernetes include creating a Kubernetes Cluster, deploying an application into the cluster, exposing an application ports, scaling an application and updating an application.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Kubernetes Workflow Image</p></h3>
  <div>
  <figure class="figure">
    <img src="img/kubernetes-basic-workflow.png" alt="**Kubernetes Basics Workflow**" class="img img-fluid">
    <figcaption class="figure-caption">
      <p><strong>Kubernetes Basics Workflow</strong></p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Kubernetes Overview 1</p></h3>
  <div>
  <h3 id="what-is-the-kubernetes-cluster-architecture">What is the Kubernetes (Cluster) Architecture?</h3>
<p>The core of Kubernetes is the cluster.  Containers run in the cluster.  The core components of the cluster include a cluster master and nodes.  Inside nodes there is another hierarchy.  This is shown in the diagram. A Kubernetes node can contain multiple pods, which in turn can contain multiple containers and/or volumes.</p>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Cluster Image</p></h3>
  <div>
  <figure class="figure">
    <img src="img/kubernetes-hierarchy.png" alt="**Kubernetes Hierarchy**" class="img img-fluid">
    <figcaption class="figure-caption">
      <p><strong>Kubernetes Hierarchy</strong></p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Overview of Kubernetes 2</p></h3>
  <div>
  <h3 id="how-do-you-set-up-a-kubernetes-cluster">How do you Set Up a Kubernetes Cluster?</h3>
<p>There are two main methods:  </p>
<ol>
<li>Set up a local cluster (preferably with Docker Desktop)</li>
<li>Provision a cloud cluster: </li>
</ol>
<ul>
<li>Amazon through <a href="https://aws.amazon.com/eks/" rel="noopener noreferrer" target="_blank">Amazon EKS</a> </li>
<li>Google through <a href="https://cloud.google.com/kubernetes-engine" rel="noopener noreferrer" target="_blank">Google Kubernetes Engine GKE</a> </li>
<li>Microsoft through <a href="https://azure.microsoft.com/en-us/services/kubernetes-service/" rel="noopener noreferrer" target="_blank">Azure Kubernetes Service (AKS)</a>.</li>
</ul>
<p>If you are using Docker and have <a href="https://docs.docker.com/docker-for-mac/#kubernetes" rel="noopener noreferrer" target="_blank">enabled kubernetes</a> then you already have a standalone Kubernetes server running.  This would be the recommended way to get started with Kubernetes clusters.</p>
<h3 id="how-do-you-launch-containers-in-a-kubernetes-cluster">How do you Launch Containers in a Kubernetes Cluster?</h3>
<p>Now that you have Kubernetes running via Docker desktop how do you launch a container?  One of the <a href="https://docs.docker.com/docker-for-mac/kubernetes/" rel="noopener noreferrer" target="_blank">easiest ways is via</a> the <code>docker stack deploy --compose-file</code> command.</p>
<p>The <code>yaml</code> example file looks like the following:</p>
<pre><code class="yaml language-yaml">version: '3.3'

services:
  web:
    image: dockersamples/k8s-wordsmith-web
    ports:
     - "80:80"

  words:
    image: dockersamples/k8s-wordsmith-api
    deploy:
      replicas: 5
      endpoint_mode: dnsrr
      resources:
        limits:
          memory: 50M
        reservations:
          memory: 50M

  db:
    image: dockersamples/k8s-wordsmith-db</code></pre>
<p>This could be deployed with the following command:</p>
<pre><code class="bash language-bash">docker stack deploy --namespace my-app --compose-file /path/to/docker-compose.yml mystack</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Autoscaling Kubernetes</p></h3>
  <div>
  <h3 id="demo">Demo</h3>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>ND#9991 C04 L04 A02 Overview Of Kubernetes</p></h3>
  <video controls>
  <source src="02. ND#9991 C04 L04 A02 Overview Of Kubernetes-wLYFNMVDNtc.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="02. ND#9991 C04 L04 A02 Overview Of Kubernetes-wLYFNMVDNtc.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Untitled</p></h3>
  <div>
  <p>You can follow the demo yourself, or read through a <a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/create-cluster/cluster-intro/" rel="noopener noreferrer" target="_blank">quick primer</a> beforehand:</p>
<ul>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/create-cluster/cluster-interactive/" rel="noopener noreferrer" target="_blank">Create a cluster</a></li>
</ul>
<h3 id="more-on-kubernetes">More on Kubernetes</h3>
<p>To go more in-depth with Kubernetes, we also suggest going through the remaining starter tutorials on the <a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/" rel="noopener noreferrer" target="_blank">Kubernetes website</a>:</p>
<ul>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/deploy-app/deploy-intro/" rel="noopener noreferrer" target="_blank">Deploy An App</a></li>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/explore/explore-intro/" rel="noopener noreferrer" target="_blank">Explore Your App</a></li>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/expose/expose-intro/" rel="noopener noreferrer" target="_blank">Expose Your App Publicly</a></li>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/scale/scale-intro/" rel="noopener noreferrer" target="_blank">Scale Your App</a></li>
<li><a href="https://kubernetes.io/docs/tutorials/kubernetes-basics/scale/scale-intro/" rel="noopener noreferrer" target="_blank">Update Your App</a></li>
</ul>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Kubernetes Solves What</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>What problem does Kubernetes solve?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="rbk1" name="900423" id="rbk1">
        <label for="rbk1"><p>Managing and running container clusters</p></label>
      </div>
      <div>
        <input type="radio" value="rbk2" name="900423" id="rbk2">
        <label for="rbk2"><p>Installing packages</p></label>
      </div>
      <div>
        <input type="radio" value="rbk3" name="900423" id="rbk3">
        <label for="rbk3"><p>Reusing source code</p></label>
      </div>
      <div>
        <input type="radio" value="rbk4" name="900423" id="rbk4">
        <label for="rbk4"><p>None of the above</p></label>
      </div>
      <div>
        <input type="radio" value="rbk5" name="900423" id="rbk5">
        <label for="rbk5"><p>All of the above</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    Managing and running container clusters
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Kubernetes deployments</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>How can you get a list of deployed apps running on Kubernetes?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="rbk1" name="900698" id="rbk1">
        <label for="rbk1"><p>kubectl ls</p></label>
      </div>
      <div>
        <input type="radio" value="rbk2" name="900698" id="rbk2">
        <label for="rbk2"><p>kubectl get running</p></label>
      </div>
      <div>
        <input type="radio" value="rbk3" name="900698" id="rbk3">
        <label for="rbk3"><p>kubectl get deployments</p></label>
      </div>
      <div>
        <input type="radio" value="rbk4" name="900698" id="rbk4">
        <label for="rbk4"><p>kubectl --show-all</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    kubectl get deployments
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Scaling Kubernetes</p></h3>
  <div>
  <form>
    <fieldset>
      <legend><p>If you had one Kubernetes app <code>test-app</code> running, which of the following would manually scale your app up to 6 application instances?</p></legend>
    </fieldset>

      <div>
        <input type="radio" value="rbk1" name="900784" id="rbk1">
        <label for="rbk1"><p>kubernetes scale --up=6</p></label>
      </div>
      <div>
        <input type="radio" value="rbk2" name="900784" id="rbk2">
        <label for="rbk2"><p>kubectl scale deployments/test-app --replicas=6</p></label>
      </div>
      <div>
        <input type="radio" value="rbk3" name="900784" id="rbk3">
        <label for="rbk3"><p>kubectl scale --man --replicas=6</p></label>
      </div>
      <div>
        <input type="radio" value="rbk4" name="900784" id="rbk4">
        <label for="rbk4"><p>kubectl get deployments --replicas=6</p></label>
      </div>
  </form>

  <details>
    <summary><strong>SOLUTION:</strong></summary>
    kubectl scale deployments/test-app --replicas=6
  </details>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>Untitled</p></h3>
  <div>
  <h3 id="additional-references">Additional References</h3>
<p>Here is a list of links to concepts in Kubernetes:</p>
<ul>
<li><a href="https://kubernetes.io/docs/tasks/tools/install-kubectl/" rel="noopener noreferrer" target="_blank"><code>kubectl</code></a></li>
<li><a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-overview/" rel="noopener noreferrer" target="_blank">Pods</a></li>
<li><a href="https://kubernetes.io/docs/concepts/containers/" rel="noopener noreferrer" target="_blank">Containers</a></li>
<li><a href="https://kubernetes.io/docs/tutorials/clusters/" rel="noopener noreferrer" target="_blank">Clusters</a></li>
</ul>
</div>

</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="03. Monitoring, Logging and Debugging with Kubernetes.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('02. Overview of Kubernetes')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
