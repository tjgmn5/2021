<!-- udacity2.0 -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Sharing Information</title>
  <link rel="stylesheet" href="../assets/css/bootstrap.min.css">
  <link rel="stylesheet" href="../assets/css/plyr.css">
  <link rel="stylesheet" href="../assets/css/katex.min.css">
  <link rel="stylesheet" href="../assets/css/jquery.mCustomScrollbar.min.css">
  <link rel="stylesheet" href="../assets/css/styles.css">
  <link rel="shortcut icon" type="image/png" href="../assets/img/udacimak.png" />
</head>

<body>
  <div class="wrapper">
    <nav id="sidebar">
  <div class="sidebar-header">
    <h3>Building a Continuous Integration Pipeline</h3>
  </div>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled components">
    <li class="">
      <a href="01. Introduction.html">01. Introduction</a>
    </li>
    <li class="">
      <a href="02. Big Picture.html">02. Big Picture</a>
    </li>
    <li class="">
      <a href="03. Intuition.html">03. Intuition</a>
    </li>
    <li class="">
      <a href="04. Creating Pipelines.html">04. Creating Pipelines</a>
    </li>
    <li class="">
      <a href="05. Creating Jobs.html">05. Creating Jobs</a>
    </li>
    <li class="">
      <a href="06. Exercise Creating a Simple Workflow.html">06. Exercise: Creating a Simple Workflow</a>
    </li>
    <li class="">
      <a href="07. Solution Creating a Simple Workflow.html">07. Solution: Creating a Simple Workflow</a>
    </li>
    <li class="">
      <a href="08. Environment Variables.html">08. Environment Variables</a>
    </li>
    <li class="">
      <a href="09. Exercise Environment Variables.html">09. Exercise: Environment Variables</a>
    </li>
    <li class="">
      <a href="10. Solution Environment Variables.html">10. Solution: Environment Variables</a>
    </li>
    <li class="">
      <a href="11. Triggering.html">11. Triggering</a>
    </li>
    <li class="">
      <a href="12. Exercise Trigger Existing Workflow.html">12. Exercise: Trigger Existing Workflow</a>
    </li>
    <li class="">
      <a href="13. Solution Trigger Existing Workflow.html">13. Solution: Trigger Existing Workflow</a>
    </li>
    <li class="">
      <a href="14. Sharing Information.html">14. Sharing Information</a>
    </li>
    <li class="">
      <a href="15. Exercise Sharing Files.html">15. Exercise: Sharing Files</a>
    </li>
    <li class="">
      <a href="16. Solution Sharing Files.html">16. Solution: Sharing Files</a>
    </li>
    <li class="">
      <a href="17. Reusable Job Code.html">17. Reusable Job Code</a>
    </li>
    <li class="">
      <a href="18. Exercise Reusable Job Code.html">18. Exercise: Reusable Job Code</a>
    </li>
    <li class="">
      <a href="19. Solution Reusable Job Code.html">19. Solution: Reusable Job Code</a>
    </li>
    <li class="">
      <a href="20. Job Failures.html">20. Job Failures</a>
    </li>
    <li class="">
      <a href="21. Exercise Job Failures.html">21. Exercise: Job Failures</a>
    </li>
    <li class="">
      <a href="22. Solution Job Failures.html">22. Solution: Job Failures</a>
    </li>
    <li class="">
      <a href="23. Create a CI Pipeline.html">23. Create a CI Pipeline</a>
    </li>
    <li class="">
      <a href="24. Exercise Create a CI Pipeline.html">24. Exercise: Create a CI Pipeline</a>
    </li>
    <li class="">
      <a href="25. Solution Create a CI Pipeline.html">25. Solution: Create a CI Pipeline</a>
    </li>
    <li class="">
      <a href="26. Lesson Conclusion.html">26. Lesson Conclusion</a>
    </li>
  </ul>

  <ul class="sidebar-list list-unstyled CTAs">
    <li>
      <a href="../index.html" class="article">Back to Home</a>
    </li>
  </ul>
</nav>

    <div id="content">
      <header class="container-fluild header">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <div class="align-items-middle">
                <button type="button" id="sidebarCollapse" class="btn btn-toggle-sidebar">
                  <div></div>
                  <div></div>
                  <div></div>
                </button>

                <h1 style="display: inline-block">14. Sharing Information</h1>
              </div>
            </div>
          </div>
        </div>
      </header>

      <main class="container">
        <div class="row">
          <div class="col-12">
            <div class="ud-atom">
  <h3></h3>
  <div>
  <h2 id="sharing-information">Sharing Information</h2>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>ND9991 C03 L02 Sharing Information</p></h3>
  <video controls>
  <source src="14. ND9991 C03 L02 Sharing Information-ziTURxIPvX4.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="14. ND9991 C03 L02 Sharing Information-ziTURxIPvX4.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h3 id="job-isolation">Job Isolation</h3>
<p>When it's each job's turn to execute, a fresh instance is booted up using the docker image that is defined in the job. This means, by default, that files and memory that are used during the job are gone after the job completes. In this way, each job is isolated from the other jobs and their parent workflows.</p>
<h3 id="ways-to-share-information">Ways to Share Information</h3>
<h4 id="cache">Cache</h4>
<p>When forming the key name, you can use a few template variables such as:</p>
<table>
<thead>
<tr>
<th id="**variable**" style="text-align:left;"><strong>Variable</strong></th>
<th id="**description**" style="text-align:left;"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"><code>{{ .Branch }}</code></td>
<td style="text-align:left;">The git branch currently being built.</td>
</tr>
<tr>
<td style="text-align:left;"><code>{{ .BuildNum }}</code></td>
<td style="text-align:left;">The CircleCI build number for this build.</td>
</tr>
<tr>
<td style="text-align:left;"><code>{{ .Environment.variableName }}</code></td>
<td style="text-align:left;">Adds in the value of an environment variable from any scope.</td>
</tr>
<tr>
<td style="text-align:left;"><code>{{ checksum "filename" }}</code></td>
<td style="text-align:left;">Generates a base64 checksum for the file.</td>
</tr>
<tr>
<td style="text-align:left;"><code>{{ epoch }}</code></td>
<td style="text-align:left;">The current time in seconds since the unix epoch. Great to make a unique string to avoid re-using key names.</td>
</tr>
</tbody>
</table>
<p>In one job:</p>
<pre><code>...
      - save_cache:
          key: v1-my-project-{{ checksum "project.clj" }}
          paths:
            - ~/.m2
...</code></pre>
<p>In another job:</p>
<pre><code>...
      - restore_cache:
          keys:
            - v1-my-project-{{ checksum "project.clj" }}
            - v1-my-project-
...</code></pre>
<h4 id="workspace">Workspace</h4>
<p>Like a cache, but with <a href="https://circleci.com/docs/2.0/configuration-reference/#persist_to_workspace" rel="noopener noreferrer" target="_blank">some differences</a>.</p>
<p>In one job:</p>
<pre><code>...
      - persist_to_workspace:
          root: /tmp/workspace
          paths:
            - target/application.jar
            - build/*
...</code></pre>
<p>In another job:</p>
<pre><code>...
      - attach_workspace:
          at: /tmp/workspace
...</code></pre>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3><p>ND9991 C03 L02 Sharing Information Walkthrough</p></h3>
  <video controls>
  <source src="14. ND9991 C03 L02 Sharing Information Walkthrough-jNgwZTdG-k4.mp4" type="video/mp4">

  <track default="true" kind="subtitles" srclang="en" src="14. ND9991 C03 L02 Sharing Information Walkthrough-jNgwZTdG-k4.en.vtt" label="en">
</video>


</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <h4 id="3rd-party-secret-keepers">3rd Party Secret Keepers</h4>
<table>
<thead>
<tr>
<th id="**option**" style="text-align:left;"><strong>Option</strong></th>
<th id="**description**" style="text-align:left;"><strong>Description</strong></th>
<th id="**website**"><strong>Website</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">Vault</td>
<td style="text-align:left;">Vault is a tool created by Hashicorp. It is a web service and a command line tool that work together to give you the ability to save bits of information securely and then retrieve it later. Since the service is not dependent on the job or pipeline, your jobs can reliably save and retrieve information at will.</td>
<td><a href="https://www.vaultproject.io/" rel="noopener noreferrer" target="_blank">vaultproject.io</a></td>
</tr>
<tr>
<td style="text-align:left;">MemStash</td>
<td style="text-align:left;">A simple web service that takes your key-value pairs and stores securely them for a short period of time. It's a great, low-ceremony way to store quick values and get them back out, no matter which job you're running. Just use <code>curl</code> to save and retrieve your information. MemStash is free to use.</td>
<td><a href="https://www.memstash.io/" rel="noopener noreferrer" target="_blank">memstash.io</a></td>
</tr>
</tbody>
</table>
</div>

</div>
<div class="divider"></div><div class="ud-atom">
  <h3></h3>
  <div>
  <figure class="figure">
    <img src="img/screen-shot-2020-07-13-at-2.48.35-pm.png" alt="**Caches, Workspaces, and Secret Keepers Can Share Information 
Between Jobs**" class="img img-fluid">
    <figcaption class="figure-caption">
      <p><strong>Caches, Workspaces, and Secret Keepers Can Share Information 
Between Jobs</strong></p>
    </figcaption>
  </figure>
</div>


</div>
<div class="divider"></div>
          </div>

          <div class="col-12">
            <p class="text-right">
              <a href="15. Exercise Sharing Files.html" class="btn btn-outline-primary mt-4" role="button">Next Concept</a>
            </p>
          </div>
        </div>
      </main>

      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-12">
              <p class="text-center">
                <a href="https://us-udacity.github.io/" target="_blank">【udacity2.0 】If you need more courses, please add wechat：udacity6</a>
              </p>
            </div>
          </div>
        </div>
      </footer>
    </div>
  </div>


  <script src="../assets/js/jquery-3.3.1.min.js"></script>
  <script src="../assets/js/plyr.polyfilled.min.js"></script>
  <script src="../assets/js/bootstrap.min.js"></script>
  <script src="../assets/js/jquery.mCustomScrollbar.concat.min.js"></script>
  <script src="../assets/js/katex.min.js"></script>
  <script>
    // Initialize Plyr video players
    const players = Array.from(document.querySelectorAll('video')).map(p => new Plyr(p));

    // render math equations
    let elMath = document.getElementsByClassName('mathquill');
    for (let i = 0, len = elMath.length; i < len; i += 1) {
      const el = elMath[i];

      katex.render(el.textContent, el, {
        throwOnError: false
      });
    }

    // this hack will make sure Bootstrap tabs work when using Handlebars
    if ($('#question-tabs').length && $('#user-answer-tabs').length) {
      $("#question-tabs a.nav-link").on('click', function () {
        $("#question-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
      $("#user-answer-tabs a.nav-link").on('click', function () {
        $("#user-answer-tab-contents .tab-pane").hide();
        $($(this).attr("href")).show();
      });
    } else {
      $("a.nav-link").on('click', function () {
        $(".tab-pane").hide();
        $($(this).attr("href")).show();
      });
    }

    // side bar events
    $(document).ready(function () {
      $("#sidebar").mCustomScrollbar({
        theme: "minimal"
      });

      $('#sidebarCollapse').on('click', function () {
        $('#sidebar, #content').toggleClass('active');
        $('.collapse.in').toggleClass('in');
        $('a[aria-expanded=true]').attr('aria-expanded', 'false');
      });

      // scroll to first video on page loading
      if ($('video').length) {
        $('html,body').animate({ scrollTop: $('div.plyr').prev().offset().top});
      }

      // auto play first video: this may not work with chrome/safari due to autoplay policy
      if (players && players.length > 0) {
        players[0].play();
      }

      // scroll sidebar to current concept
      const currentInSideBar = $( "ul.sidebar-list.components li a:contains('14. Sharing Information')" )
      currentInSideBar.css( "text-decoration", "underline" );
      $("#sidebar").mCustomScrollbar('scrollTo', currentInSideBar);
    });
  </script>
</body>

</html>
